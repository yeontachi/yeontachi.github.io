---
layout: single
title: "[CS:APP] Chap2 A Representing and Manipulating Information(2)"
categories: ComputerSystems
tag: [CS, CSAPP]
toc: true
---

## 2.2 Integer Representations

 이 섹션은 정수를 표현하는 두 가지 비트 기반 방식 **(Unsigned, Signed)**을 소개하고, 비트 확장 및 축소가 값에 미치는 영향을 다룬다. 아래는 용어를 정리한 표이다.

 ![Alt text](/assets/images/chap2_2.png)

### 2.2.1 Integral Data Types

 C언어는 다양한 정수형 데이터 타입을 지원하며, 각 데이터 타입은 특정한 크기와 범위를 가진다. 이 데이터 타입들은 char, short, int, long과 같은 키워드를 통해 크기를 지정할 수 있고, 부호 있는 값(signed)과 부호 없는 값(unsigned)을 표현할 수 있다. C 표준은 각 데이터 타입이 표현할 수 있는 최소한의 범위를 정의하며, 이는 모든 구현에서 반드시 충족되어야 한다. 표준에서 요구하는 범위는 양수와 음수의 범위가 대칭적이지만, 실제 구현에서는 음수 범위가 양수 범위보다 하나 더 크다(2의 보수 표현 방식에서 발생)

 ![Alt text](/assets/images/GuarantedRanges.png)

 위 표는 C 표준에서 요구하는 범위이다. 즉, C 표준에서 명시적으로 규정한 데이터 타입의 최소 범위이다.

 ![Alt text](/assets/images/typicalranges.png)

 C 언어의 데이터 타입 크기와 값의 범위는 프로그램이 어느 환경에서(32비트 or 64비트) 실행되느냐에 따라 달라진다. 위에 표는 32비트와 64비트 환경에서의 일반적인 범위를 나타낸다. (**일반적인 범위(typical range)** : 특정 데이터 타입이 실제로 구현된 범위) 
 
 위 표에서 보여주는 일반적인 범위는 **C표준에서 요구하는 최소 범위보다 크거나 같으며**, **음수와 양수의 범위가 비대칭적**인 특징을 갖는다. 
 
 **데이터 타입 크기는 프로그램의 환경에 따라 달라질 수도 있다.** 예를 들어, long 타입의 경우 32비트 환경에서는 4바이트로 제한되어 값의 범위가 좁지만, 64비트 환경에서는 8바이트로 구현되어 매우 넓은 값을 표현할 수 있다. 

 고정 크기 데이터 타입(int32_t, uint32_t...)은 정확히 정해진 크기와 값을 보장한다. 음수와 양수의 비대칭성이 유지되며, 데이터 타입의 크기에 따라 숫자의 표현 범위가 달라진다. 이러한 범위는 바이트 할당량에 의해 결정된다. (C 표준에서 요구하는 범위를 나타낸 표와 실제 구현된 범위를 나타낸 표를 비교해보면 고정 크기 데이터 타입은 최소,최대 크기가 비대칭성을 그대로 유지하는 것을 확인할 수 있다.)

 실제 구현된 값의 범위가 대칭적이지 않은 이유는 2의 보수 표현 방식 때문이다. 음수를 표현할 때 부호 비트를 포함해 양수보다 하나 더 많은 값을 표현할 수 있으므로, 음수 범위가 더 넓어진다.

### 2.2.2 Unsigned Encodings

 C 언어에서 정수를 표현하기 위해 비트를 사용하는 방식 중 하나는 **부호 없는 정수(unsigned integer)**를 표현하는 것이다. 이를 위해 비트 벡터(bit vector)라는 개념을 사용하며, 비트 벡터는 X=[x<sub>w-1</sub>, x<sub>w-2</sub>,...,x<sub>0</sub>]와 같은 형식으로 표현된다. 여기서 w는 비트의 길이를 나타낸다. 각 비트는 0과 1의 값을 가지며 x<sub>i</sub> = 1일 경우 해당 위치의 가중치가 2<sup>i</sup>가 숫자 값에 포함된다. 이렇게 비트 벡터를 부호 없는 정수로 변환하는 과정을 함수 **B2U<sub>w</sub>**로 정의할 수 있다.

 ![Alt text](/assets/images/unsignednumex.png)

 함수 **B2U<sub>w</sub>**는 비트 벡터를 부호 없는 정수로 변환하며, 다음과 같은 수식으로 표현된다.

 ![Alt text](/assets/images/eqation2_1.png)

 이 함수는 길이가 w인 비트 벡터를 0에서 2<sup>w</sup> - 1 사이의 값으로 매핑한다. 예를 들어 4비트의 경우

 ![Alt text](/assets/images/2_1ex.png)
 
 부호 없는 정수로 표현할 수 있는 값의 범위는 w-비트에 따라 달라진다. 최소값은 비트 벡터가 모두 0인 경우이며, 최대값은 모든 비트가 1인 경우로, 이를 2<sup>w</sup> - 1로 계산할 수 있다. 