---
layout: single
title: "[컴퓨터 비전] OpenCV 주요 클래스"
categories: ComputerVision
tag: [Computer Vision, OpenCV, AI]
toc: true
---

# 3.1 기본 자료형 클래스

## 3.1.1 Point_ 클래스
 **Point_** 클래스는 2차원 평면 위에 있는 점의 좌표를 표현하는 템플릿 클래스이다. **Point_** 클래스는 2차원 좌표를 나타내는 **x**와 **y**라는 이름의 멤버 변수를 가지고 있다.

 ```cpp
 template<typename _Tp> class Point_{
    public:
        Point_();                               //기본 생성자 : x=0, y=0으로 초기화된다.
        Point_(_Tp _x, _Tp_y);                  //(_x, _y)좌표를 인자로 받는 생성자, x=_x, y=_y로 초기화된다.
        Point_(const Point_& pt);               //복사 생성자, x=pt.x, y=pt.y로 초기화된다.

        Point_& operator = (const Point_& pt);  //대입 연산자 재정의

        _Tp dot(const Point_& pt) const;        //Point::dot() 멤버 함수는 두 점 사이의 내적(dot product)을 계산하여 반환한다.
        double ddot(const Point_& pt) const;    //Point::ddot() 멤버 함수는 두 점 사이의 내적을 실수형으로 계산하여 double 자료형으로 반환한다.
        double cross(const Point_& pt) const;   //Point::cross() 멤버 함수는 두 점 사이의 외적(cross product)을 반환한다.
        bool inside(const Rect_<_Tp>& r) const; //Point::inside() 멤버 함수는 점의 좌표가 사각형 r 영역 안에 있으면 true를 반환한다.
        ...
        _Tp x, y;                               //멤버 변수, x는 x축 좌표, y는 y축 좌표를 나타낸다.
 };
 // 다양한 자료형에 대한 Point_클래스 이름 재정의
 typedef Point_<int>    Point2i;
 typedef Point_<int64>  Point2l;
 typedef Point_<float>  Point2f;
 typedef Point_<double> Point2d;
 typedef Point2i        Point;
 ```

 **Point_클래스**는 **템플릿 클래스**이기 때문에 실제로 사용할 때에는 어떤 자료형으로 좌표를 표현할 것인지 명시해야 한다.(ex. Point_<double>) 클래스를 사용할 때마다 자료형을 명시하는 것이 다소 번거로울 수 있어, OpenCV는 자주 사용하는 자료형에 대하여 Point_클래스 이름을 재정의하여 제공한다.(위 코드 맨 아래 줄 참고)

**Point_ 클래스 코드 작성 방법 예시**

```cpp
Point pt1;              //pt1 = (0, 0)
pt1.x = 5; pt1.y = 10;  //pt1 = (5, 10)
Point pt2(10, 30);      //pt2 = (10, 30)
```

 - 위 코드에서 변수 pt1은 **기본 생성자**를 사용하여 생성되었다. 이 경우 멤버 변수 pt1.x와 pt1.y는 **0으로 초기화**된다.
 - 코드의 두 번째 행에서는 대입 연산을 이용해 pt1의 좌표를 업데이트 해준다.
 - pt2는 생성과 동시에 (10, 30)으로 좌표를 초기화 해주었다.

```cpp
//pt1 = [5, 10], pt2 = [10, 30]
Point pt3 = pt1 + pt2       //pt3 = [15, 40]
Point pt4 = pt1 * 2;        //pt4 = [10, 20]
int d1 = pt1.dot(pt2);      //d1 = 350
bool b1 = (pt1 == pt2);     //b1 = false
```   

 - Point 객체끼리의 덧셈 연산 : x좌표와 y좌표를 각각 더하여 새로운 좌표를 생성한다.
 - Point 객체의 곱하기 연산 : x좌표와 y좌표에 각각 2를 곱한 좌표를 pt4에 저장한다.
 - Point::dot() 함수 : 두 점의 내적을 계산하는 멤버 함수이다.(내적 연산 : 두 점 x좌표끼리 곱한 값에 y좌표끼리 곱한 값을 더하여 계산)
 - Point 객체끼리 동일 유무 검사 : **==** 또는 **!=** 연산자를 이용하여 두 점의 좌표가 서로 같은지 혹은 다른지 검사 가능하다.

 ```cpp
 cout<<"pt1: "<< pt1 << endl;
 cout<<"pt2: "<< pt2 << endl;

 // 출력 결과
 pt1: [5, 10]
 pt2: [10, 30]
 ```

OpenCV에서 제공하는 대부분의 자료형 클래스는 **C++** 표준 출력을 지원한다. 그러므로 Point_ 객체의 좌표를 **std::cout**과 **<<** 연산자를 이용하여 쉽게 출력이 가능한다.

## 3.1.2 Size_ 클래스

## 3.1.3 Rect_ 클래스
## 3.1.4 RotatedRect 클래스
## 3.1.5 Range 클래스
## 3.1.6 String 클래스